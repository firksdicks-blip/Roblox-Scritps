-- STEAL A BRAINROT: TELEPORT TO BASE BUTTON (FRONT)
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- GUI setup
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "TPGui"
screenGui.Parent = player:WaitForChild("PlayerGui")

local button = Instance.new("TextButton")
button.Size = UDim2.new(0, 200, 0, 80)
button.Position = UDim2.new(0.5, -100, 0.85, 0)
button.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
button.TextColor3 = Color3.fromRGB(255, 255, 255)
button.Font = Enum.Font.SourceSansBold
button.TextScaled = true
button.Text = "TP to Base Front"
button.Parent = screenGui

-- Teleport function
local function teleportToBaseFront()
    local char = player.Character or player.CharacterAdded:Wait()
    local hrp = char:WaitForChild("HumanoidRootPart")
    
    -- Detect flying carpet
    local seat = char:FindFirstChildWhichIsA("VehicleSeat") or char:FindFirstChildWhichIsA("Seat")
    if not seat or not seat.Parent then
        warn("You must be sitting on your flying carpet!")
        return
    end
    local carpet = seat.Parent
    
    -- Auto-detect your base
    local basesFolder = workspace:FindFirstChild("Bases")
    if not basesFolder then
        warn("Bases folder not found in workspace!")
        return
    end

    local targetBase = basesFolder:FindFirstChild("Xv9rTz0") -- map ID name
    if not targetBase then
        warn("Your base model not found!")
        return
    end

    -- Pick the front: assume the front is the part with the **lowest Z value**
    local frontPart = nil
    for _, part in ipairs(targetBase:GetDescendants()) do
        if part:IsA("BasePart") then
            if not frontPart or part.Position.Z < frontPart.Position.Z then
                frontPart = part
            end
        end
    end

    if not frontPart then
        warn("No part found in base!")
        return
    end

    -- Teleport carpet to front of base (slightly above ground)
    carpet:SetPrimaryPartCFrame(CFrame.new(frontPart.Position + Vector3.new(0, 5, 0)))
end

-- Connect button click
button.MouseButton1Click:Connect(teleportToBaseFront)
